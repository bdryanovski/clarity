// Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.
// This software is released under MIT license.
// The full license information can be found in LICENSE in the root directory of this project.

@mixin min-height($size) {
  min-height: $size;
  min-width: $size;
  height: $size;
  width: $size;
}

$clr-progress-circle-label-color: $clr-color-neutral-800 !default;
$clr-progress-circle-stroke-width: 5px !default;
$clr-progress-circle-dasharray: 2 * 3.14 * 33 !default;
$clr-progress-circle-dashoffset: $clr-progress-circle-dasharray * (1 - (80 / 100)) !default;

/* */
@include exports('progress-circle.clarity') {
  .progressCircle {
    position: relative;

    @include min-height(3rem);
    display: inline-block;

    .progressCircleImage {
      // fix rotation
      transform: rotate(-90deg);
    }

    .__base {
      stroke: $clr-spinner-bg-color;
      stroke-opacity: $clr-spinner-opacity;
      stroke-width: $clr-progress-circle-stroke-width;
      fill: none;
    }
    .__value {
      stroke: $clr-spinner-color;
      fill: none;
      stroke-width: $clr-progress-circle-stroke-width;
      stroke-dasharray: $clr-progress-circle-dasharray;
      //stroke-dashoffset: progressNow($clr-progress-circle-dashoffset, attr(data-progress number, 1));
    }

    .progressLabel {
      position: absolute;
      z-index: 1;
      width: 100%;
      left: 0;
      top: 0;
      line-height: 5.1em; // that 0.1 is not cool
      color: $clr-progress-circle-label-color;
      display: block;
      text-align: center;
      white-space: nowrap;
    }
  }
}
